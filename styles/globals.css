@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --radius: 0.625rem;
  --sidebar: hsl(0 0% 98%);
  --sidebar-foreground: hsl(240 5.3% 26.1%);
  --sidebar-primary: hsl(240 5.9% 10%);
  --sidebar-primary-foreground: hsl(0 0% 98%);
  --sidebar-accent: hsl(240 4.8% 95.9%);
  --sidebar-accent-foreground: hsl(240 5.9% 10%);
  --sidebar-border: hsl(220 13% 91%);
  --sidebar-ring: hsl(217.2 91.2% 59.8%);
  --scrollbar-track: oklch(0.97 0 0);
  --scrollbar-thumb: oklch(0.708 0 0);
  --scrollbar-thumb-hover: oklch(0.556 0 0);
}

@theme inline {
  --font-sans: "Geist", sans-serif;
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.985 0 0);
  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);
  --sidebar: hsl(240 5.9% 10%);
  --sidebar-foreground: hsl(240 4.8% 95.9%);
  --sidebar-primary: hsl(224.3 76.3% 48%);
  --sidebar-primary-foreground: hsl(0 0% 100%);
  --sidebar-accent: hsl(240 3.7% 15.9%);
  --sidebar-accent-foreground: hsl(240 4.8% 95.9%);
  --sidebar-border: hsl(240 3.7% 15.9%);
  --sidebar-ring: hsl(217.2 91.2% 59.8%);
  --lectio-dark-bg: #212529;
  --lectio-dark-surface: #343a40;
  --lectio-dark-element: #495057;
  --lectio-dark-border: #6c757d;
  --lectio-dark-text: #e9ecef;
  --lectio-dark-link: #a2b4f7;
  --lectio-dark-link-hover: #6f7ffa;
  --lectio-dark-calendar: #6f7d8b;
  --lectio-dark-info: #608cba;
  --lectio-dark-header: #57b756;
  --scrollbar-track: oklch(0.205 0 0);
  --scrollbar-thumb: oklch(0.439 0 0);
  --scrollbar-thumb-hover: oklch(0.556 0 0);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }

  * {
    scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
  }

  *::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  *::-webkit-scrollbar-track {
    background: var(--scrollbar-track);
  }

  *::-webkit-scrollbar-thumb {
    background-color: var(--scrollbar-thumb);
    border-radius: 999px;
    border: 2px solid var(--scrollbar-track);
  }

  *::-webkit-scrollbar-thumb:hover {
    background-color: var(--scrollbar-thumb-hover);
  }
}

/* ========================================
   Custom Styles for BetterLectio
   ======================================== */

@layer components {
  /* Ensure html and body take full height */
  html {
    height: 100% !important;
  }

  body.il-dashboard-active {
    height: 100% !important;
    min-height: 100vh !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
  }

  /* Root element for our app */
  #il-root {
    height: 100vh !important;
    width: 100% !important;
  }

  /* Force sidebar wrapper to be a proper flex row */
  [data-slot="sidebar-wrapper"] {
    display: flex !important;
    flex-direction: row !important;
    min-height: 100vh !important;
    width: 100% !important;
  }

  /* Settings modal needs wrapper constrained to modal height */
  .settings-modal[data-slot="sidebar-wrapper"] {
    min-height: 0 !important;
    height: 100% !important;
  }

  /* Sidebar wrapper - must be visible (override hidden class) */
  [data-slot="sidebar"].hidden {
    display: block !important;
  }

  [data-slot="sidebar"] {
    display: block !important;
    height: 100vh !important;
  }

  .settings-modal [data-slot="sidebar"] {
    height: 100% !important;
  }

  /* Force modal main layout to flex to enable inner scrolling */
  .settings-modal .settings-modal-main {
    display: flex !important;
    flex-direction: column !important;
    min-height: 0 !important;
  }

  .settings-modal .settings-modal-scroll {
    flex: 1 1 auto !important;
    min-height: 0 !important;
    overflow-y: auto !important;
  }

  /* Sidebar inner container - fixed left panel */
  [data-slot="sidebar-container"] {
    display: flex !important;
    flex-direction: column !important;
    height: 100vh !important;
    position: fixed !important;
    left: 0 !important;
    top: 0 !important;
    z-index: 50 !important;
    width: var(--sidebar-width, 16rem) !important;
    background-color: var(--sidebar) !important;
    border-right: 1px solid var(--sidebar-border) !important;
    overflow: hidden !important;
  }

  /* Sidebar inner content wrapper */
  [data-sidebar="sidebar"] {
    display: flex !important;
    flex-direction: column !important;
    height: 100% !important;
    width: 100% !important;
    background-color: var(--sidebar) !important;
  }

  /* Sidebar gap - the space taken by the sidebar */
  [data-slot="sidebar-gap"] {
    flex-shrink: 0 !important;
    width: var(--sidebar-width, 16rem) !important;
  }

  /* Main content area */
  [data-slot="sidebar-inset"] {
    display: flex !important;
    flex-direction: column !important;
    flex: 1 !important;
    height: 100vh !important;
    overflow: hidden !important;
  }

  /* Lectio content scroll container */
  #il-lectio-content {
    flex: 1 !important;
    height: 100% !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    background: var(--background);
  }

  /* Original content wrapper */
  #il-original-content {
    min-height: 100%;
  }

  /* Apply Geist font everywhere except icon fonts */
  body.il-dashboard-active,
  body.il-dashboard-active *:not(.ls-fonticon) {
    font-family: "Geist", sans-serif !important;
  }

  .ls-fonticon {
    font-family: ls-font-icons !important;
  }

  /* Hide old navigation and page headers */
  #il-original-content .ls-master-header,
  #il-original-content #s_m_mastermenu,
  #il-original-content #m_mastermenu,
  #il-original-content nav.lectioToolbar,
  #il-original-content .ls-subnav1,
  #il-original-content .ls-subnav-container nav,
  #il-original-content .ls-master-pageheader {
    display: none !important;
  }

  /* Show subnavigation for entity schedule pages (hold, class, room, etc.) */
  .il-entity-schedule #il-original-content .ls-master-pageheader {
    display: block !important;
  }

  /* Hide other parts of the page header, just keep the subnav */
  .il-entity-schedule #il-original-content .ls-master-pageheader .thumber,
  .il-entity-schedule
    #il-original-content
    .ls-master-pageheader
    .ls-identity-container,
  .il-entity-schedule #il-original-content .ls-master-pageheader .maintitle {
    display: none !important;
  }

  /* Hide Bøger and Beskeder nav items - redundant with sidebar */
  .il-entity-schedule
    #il-original-content
    .ls-subnav1
    .buttonlink:has(a[href*="Reservations.aspx"]),
  .il-entity-schedule
    #il-original-content
    .ls-subnav1
    .buttonlink:has(a[href*="beskeder2.aspx"]) {
    display: none !important;
  }

  .il-entity-schedule #il-original-content .ls-subnav-container,
  .il-entity-schedule #il-original-content .ls-subnav-container nav {
    display: block !important;
  }

  .il-entity-schedule #il-original-content .ls-subnav1 {
    display: flex !important;
    flex-wrap: wrap;
    gap: 0.25rem;
    padding: 0.75rem 1rem;
    background: hsl(var(--muted) / 0.3);
    border-bottom: 1px solid hsl(var(--border));
    margin: 0;
  }

  .il-entity-schedule #il-original-content .ls-subnav1 .buttonlink {
    margin: 0;
  }

  .il-entity-schedule #il-original-content .ls-subnav1 .buttonlink a {
    display: inline-flex;
    align-items: center;
    padding: 0.375rem 0.75rem;
    font-size: 0.875rem;
    font-weight: 500;
    color: hsl(var(--muted-foreground));
    text-decoration: none;
    border-radius: 0.375rem;
    transition: all 0.15s;
  }

  .il-entity-schedule #il-original-content .ls-subnav1 .buttonlink a:hover {
    background: hsl(var(--accent));
    color: hsl(var(--accent-foreground));
  }

  .il-entity-schedule
    #il-original-content
    .ls-subnav1
    .buttonlink.ls-subnav-active
    a {
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
  }

  body.il-fravaer-page #il-fravaer-subnav {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    background: hsl(var(--muted) / 0.3);
    border-bottom: 1px solid hsl(var(--border));
  }

  body.il-fravaer-page #il-fravaer-subnav .il-fravaer-subnav-link {
    display: inline-flex;
    align-items: center;
    padding: 0.375rem 0.75rem;
    font-size: 0.875rem;
    font-weight: 500;
    color: hsl(var(--muted-foreground));
    text-decoration: none;
    border-radius: 0.375rem;
    transition: all 0.15s;
  }

  body.il-fravaer-page #il-fravaer-subnav .il-fravaer-subnav-link:hover {
    background: hsl(var(--accent));
    color: hsl(var(--accent-foreground));
  }

  body.il-fravaer-page #il-fravaer-subnav .il-fravaer-subnav-link.is-active {
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
  }

  body.il-fravaer-page #il-fravaer-summary {
    position: sticky !important;
    top: 0 !important;
    z-index: 6 !important;
    padding: 0.75rem 1rem 0.5rem !important;
    background: hsl(var(--background)) !important;
    backdrop-filter: blur(6px) !important;
  }

  body.il-fravaer-page #il-fravaer-summary .il-fravaer-summary-inner {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 0.75rem !important;
    align-items: center !important;
    justify-content: center !important;
    max-width: 960px !important;
    margin: 0 auto !important;
    width: 100% !important;
    flex-direction: column !important;
    background: hsl(var(--muted) / 0.35) !important;
    border: 1px solid hsl(var(--border)) !important;
    border-radius: 1rem !important;
    padding: 0.85rem 1rem !important;
    box-shadow: 0 6px 18px hsl(var(--foreground) / 0.06) !important;
  }

  body.il-fravaer-page #il-fravaer-summary .il-fravaer-summary-header {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.15rem !important;
    align-items: center !important;
    text-align: center !important;
  }

  body.il-fravaer-page #il-fravaer-summary .il-fravaer-summary-title {
    font-size: 1rem !important;
    font-weight: 600 !important;
    color: hsl(var(--foreground)) !important;
  }

  body.il-fravaer-page #il-fravaer-summary .il-fravaer-summary-period {
    font-size: 0.875rem !important;
    color: hsl(var(--muted-foreground)) !important;
  }

  body.il-fravaer-page #il-fravaer-summary .il-fravaer-summary-metrics {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 0.75rem !important;
    justify-content: center !important;
  }

  body.il-fravaer-page #il-fravaer-summary .il-fravaer-summary-metric {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.15rem !important;
    padding: 0.6rem 0.9rem !important;
    border-radius: 0.75rem !important;
    background: hsl(var(--background)) !important;
    border: 1px solid hsl(var(--border)) !important;
    min-width: 160px !important;
    text-align: center !important;
  }

  body.il-fravaer-page #il-fravaer-summary .il-fravaer-summary-label {
    font-size: 0.75rem !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.03em !important;
    color: hsl(var(--muted-foreground)) !important;
  }

  body.il-fravaer-page #il-fravaer-summary .il-fravaer-summary-value {
    font-size: 1.05rem !important;
    font-weight: 600 !important;
    color: hsl(var(--foreground)) !important;
  }

  body.il-fravaer-page #il-fravaer-summary .il-fravaer-summary-subvalue {
    font-size: 0.8rem !important;
    color: hsl(var(--muted-foreground)) !important;
  }

  @media (max-width: 640px) {
    body.il-fravaer-page #il-fravaer-summary .il-fravaer-summary-inner {
      align-items: flex-start !important;
    }

    body.il-fravaer-page #il-fravaer-summary .il-fravaer-summary-metric {
      min-width: 140px !important;
    }
  }

  /* Hide footer */
  #il-original-content .ls-master-footer {
    display: none !important;
  }

  /* Hide mobile menu */
  #il-original-content .ls-mobil-footer {
    display: none !important;
  }

  /* Hide help tip */
  #il-original-content #s_m_helptipDiv,
  #il-original-content .helptip-wrap {
    display: none !important;
  }

  /* Sidebar content - prevent horizontal overflow */
  [data-slot="sidebar-content"] {
    overflow-x: hidden !important;
    overflow-y: auto !important;
  }

  /* Ensure sidebar footer is clickable */
  [data-slot="sidebar-footer"] {
    position: relative;
    z-index: 10;
  }

  [data-slot="sidebar-footer"] button {
    cursor: pointer !important;
    pointer-events: auto !important;
  }

  /* Dropdown menu portal z-index */
  [data-radix-popper-content-wrapper] {
    z-index: 9999 !important;
  }

  /* ========================================
     Messages Page (beskeder2.aspx) Styles
     ======================================== */

  /* Messages page container - two column layout */
  #il-original-content .ls-std-rowblock-selecteditem {
    display: flex !important;
    gap: 1rem;
    padding: 1rem;
  }

  /* Force mobile-page-drawer to show on our "desktop" view */
  #il-original-content .mobile-page-drawer {
    display: block !important;
    position: relative !important;
    left: auto !important;
    top: auto !important;
    transform: none !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
  }

  /* Folder tree panel */
  #il-original-content .documentchooser-foldertree-col {
    width: 250px !important;
    min-width: 250px !important;
    max-width: 250px !important;
    flex-shrink: 0 !important;
    background: var(--background) !important;
    border-radius: 0.5rem !important;
    border: 1px solid var(--border) !important;
    padding: 0.75rem !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    position: relative !important;
    max-height: calc(100vh - 200px) !important;
  }

  /* Show folder tree on desktop */
  #il-original-content .ls-foldertree2 {
    display: block !important;
    position: relative !important;
    left: auto !important;
    top: auto !important;
    transform: none !important;
    box-shadow: none !important;
    background: transparent !important;
    width: 100% !important;
  }

  /* Reorder folder list - make Nyeste first */
  #il-original-content #s_m_Content_Content_ListGridSelectionTree {
    display: flex !important;
    flex-direction: column !important;
  }

  /* Nyeste (node -70) first */
  #il-original-content [lec-node-id="-70"] {
    order: 1 !important;
  }
  /* Alle ulæste */
  #il-original-content [lec-node-id="-40"] {
    order: 2 !important;
  }
  /* Alle med flag */
  #il-original-content [lec-node-id="-50"] {
    order: 3 !important;
  }
  /* Egne beskeder */
  #il-original-content [lec-node-id="-10"] {
    order: 4 !important;
  }
  /* Sendte beskeder */
  #il-original-content [lec-node-id="-80"] {
    order: 5 !important;
  }
  /* Alle slettede */
  #il-original-content [lec-node-id="-60"] {
    order: 6 !important;
  }
  /* Hold, groups etc */
  #il-original-content [lec-node-id="-20"] {
    order: 7 !important;
  }
  #il-original-content [lec-node-id="-30"] {
    order: 8 !important;
  }
  #il-original-content [lec-node-id="-35"] {
    order: 9 !important;
  }

  /* Tree node container */
  #il-original-content [lec-role="treeviewnodecontainer"] {
    margin: 0.125rem 0 !important;
  }

  /* Tree node styling */
  #il-original-content .TreeNode-container {
    display: flex !important;
    align-items: center !important;
    padding: 0.375rem 0.5rem !important;
    border-radius: 0.375rem !important;
    cursor: pointer !important;
    transition: background-color 0.15s !important;
  }

  #il-original-content .TreeNode-container:hover {
    background: var(--accent) !important;
  }

  /* Selected folder styling */
  #il-original-content .TreeNode.selectedFolder {
    background: var(--accent) !important;
    border-radius: 0.25rem !important;
  }

  #il-original-content .TreeNode {
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    text-decoration: none !important;
    color: var(--foreground) !important;
    flex: 1 !important;
    padding: 0.25rem !important;
    cursor: pointer !important;
  }

  #il-original-content .TreeNode-title {
    font-size: 0.8125rem !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }

  #il-original-content .TreeNode-icon {
    width: 18px !important;
    height: 18px !important;
    flex-shrink: 0 !important;
  }

  #il-original-content .TreeNode-chevron {
    width: 16px !important;
    height: 16px !important;
    cursor: pointer !important;
    opacity: 0.5 !important;
    flex-shrink: 0 !important;
  }

  #il-original-content .TreeNode-chevron:hover {
    opacity: 1 !important;
  }

  #il-original-content .TreeNode-sublist {
    display: flex !important;
    align-items: center !important;
    padding: 0.25rem !important;
    cursor: pointer !important;
  }

  #il-original-content .TreeNode-indent {
    flex-shrink: 0 !important;
  }

  /* Nested tree items (sublists) */
  #il-original-content [lec-role="ltv-sublist"] {
    margin-left: 0.5rem !important;
    border-left: 1px solid var(--border) !important;
    padding-left: 0.5rem !important;
  }

  /* Folder content panel */
  #il-original-content .documentchooser-foldercontent-col {
    flex: 1 !important;
    min-width: 0 !important;
    background: var(--background) !important;
    border-radius: 0.5rem !important;
    border: 1px solid var(--border) !important;
    overflow: hidden !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* Message folder header */
  #il-original-content .message-folder-header {
    padding: 1rem !important;
    border-bottom: 1px solid var(--border) !important;
    background: var(--background) !important;
  }

  #il-original-content .message-folder-header h1 {
    font-size: 1.25rem !important;
    font-weight: 600 !important;
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    margin: 0 !important;
  }

  /* Message table styling */
  #il-original-content .ls-table-layout5 {
    width: 100% !important;
    border-collapse: collapse !important;
  }

  #il-original-content .ls-table-layout5 th {
    text-align: left !important;
    padding: 0.75rem 1rem !important;
    font-weight: 500 !important;
    font-size: 0.8125rem !important;
    color: var(--muted-foreground) !important;
    border-bottom: 1px solid var(--border) !important;
    background: var(--muted) !important;
  }

  #il-original-content .ls-table-layout5 td {
    padding: 0.75rem 1rem !important;
    border-bottom: 1px solid var(--border) !important;
    font-size: 0.875rem !important;
  }

  #il-original-content .ls-table-layout5 tr:hover td {
    background: var(--accent) !important;
  }

  /* Unread message styling */
  #il-original-content .ls-table-layout5 tr.unread td {
    font-weight: 700 !important;
  }

  /* Blue dot indicator before message title for unread messages */
  #il-original-content
    .ls-table-layout5
    tr.unread
    td
    .buttonlink
    a[id$="_ch"]::before {
    content: "" !important;
    display: inline-block !important;
    width: 8px !important;
    height: 8px !important;
    background: hsl(217 91% 60%) !important;
    border-radius: 50% !important;
    margin-right: 8px !important;
    vertical-align: middle !important;
  }

  /* Message toolbar */
  #il-original-content .ls-std-rowblock-toolbarcontainer {
    padding: 0.75rem 1rem !important;
    border-bottom: 1px solid var(--border) !important;
    background: var(--background) !important;
    display: flex !important;
    gap: 0.5rem !important;
    flex-wrap: wrap !important;
    align-items: center !important;
  }

  /* Hide mobile-only elements on messages page */
  #il-original-content .OnlyMobile {
    display: none !important;
  }

  /* Show desktop elements */
  #il-original-content .OnlyDesktop {
    display: table-cell !important;
  }

  /* Button styling in messages */
  #il-original-content .buttonlink a,
  #il-original-content .ls-std-rowblock-toolbarcontainer a {
    color: var(--primary) !important;
    text-decoration: none !important;
  }

  #il-original-content .buttonlink a:hover {
    text-decoration: underline !important;
  }

  /* Hide search in folder checkbox area cleanup */
  #il-original-content .ls-search-container {
    display: flex !important;
    gap: 0.5rem !important;
    align-items: center !important;
  }

  /* Message table wrapper */
  #il-original-content .ls-table-wrapper {
    overflow-x: auto !important;
  }

  /* Icon buttons in message list */
  #il-original-content .buttonIcon {
    cursor: pointer !important;
    opacity: 0.7 !important;
    transition: opacity 0.15s !important;
  }

  #il-original-content .buttonIcon:hover {
    opacity: 1 !important;
  }

  /* New message button styling */
  #il-original-content .button a[id*="NewMessage"],
  #il-original-content a.LectioLinkButtonBig {
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    padding: 0.5rem 1rem !important;
    background: var(--primary) !important;
    color: var(--primary-foreground) !important;
    border-radius: 0.375rem !important;
    font-weight: 500 !important;
    text-decoration: none !important;
    transition: opacity 0.15s !important;
  }

  #il-original-content .button a[id*="NewMessage"]:hover,
  #il-original-content a.LectioLinkButtonBig:hover {
    opacity: 0.9 !important;
  }

  /* Ensure form elements are visible */
  #il-original-content input[type="text"],
  #il-original-content input[type="search"] {
    padding: 0.5rem 0.75rem !important;
    border: 1px solid var(--border) !important;
    border-radius: 0.375rem !important;
    background: var(--background) !important;
    color: var(--foreground) !important;
  }

  #il-original-content input[type="checkbox"] {
    cursor: pointer !important;
  }

  /* ========================================
     UV Beskrivelser Page Styles
     ======================================== */

  /* Turn the boring table into a nice grid */
  #il-original-content #m_Content_gvhold,
  #il-original-content #m_Content_gvhold tbody {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 0.75rem !important;
    padding: 1rem !important;
  }

  #il-original-content #m_Content_gvhold tbody {
    padding: 0 !important;
  }

  /* Hide the table header row */
  #il-original-content #m_Content_gvhold tr:first-child {
    display: none !important;
  }

  /* Style each row as an inline item */
  #il-original-content #m_Content_gvhold tr {
    display: inline-flex !important;
  }

  #il-original-content #m_Content_gvhold td {
    padding: 0 !important;
    border: none !important;
  }

  /* Style the links as nice pills/chips */
  #il-original-content #m_Content_gvhold .buttonlink a {
    display: inline-flex !important;
    align-items: center !important;
    padding: 0.5rem 1rem !important;
    background: var(--background) !important;
    border: 1px solid var(--border) !important;
    border-radius: 0.5rem !important;
    color: var(--foreground) !important;
    font-size: 0.875rem !important;
    font-weight: 500 !important;
    text-decoration: none !important;
    transition: all 0.15s ease !important;
    white-space: nowrap !important;
  }

  #il-original-content #m_Content_gvhold .buttonlink a:hover {
    background: var(--accent) !important;
    border-color: var(--ring) !important;
    text-decoration: none !important;
  }

  /* Style the island container better */
  #il-original-content .lf-island {
    background: var(--card) !important;
    border: 1px solid var(--border) !important;
    border-radius: 0.75rem !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05) !important;
    margin: 1rem !important;
  }

  #il-original-content .islandHeaderContainer {
    display: flex !important;
    align-items: center !important;
    padding: 0.75rem 1.25rem !important;
    border-bottom: 1px solid var(--border) !important;
    background: var(--muted) !important;
    border-radius: 0.75rem 0.75rem 0 0 !important;
    min-height: 3rem !important;
  }

  #il-original-content .islandHeader {
    font-size: 1rem !important;
    font-weight: 600 !important;
    color: var(--foreground) !important;
    line-height: 1 !important;
    padding: 0 !important;
  }

  #il-original-content .islandContent {
    padding: 0.5rem !important;
  }

  /* Hide the disabled tab button */
  #il-original-content .ls-tabs4 .lectioTabToolbar {
    display: none !important;
  }

  /* ========================================
     Activity Page (aktivitetforside2.aspx) Styles
     ======================================== */

  /* Reset cursor for activity header title (cluetip sets cursor: help) */
  #s_m_Content_Content_tocAndToolbar_actHeader .s2skemabrik {
    cursor: default !important;
  }

  /* Activity note textarea - remove native tooltip and hover effects */
  #s_m_Content_Content_tocAndToolbar_ActNoteTB_tb {
    background-color: transparent !important;
    border: none !important;
    color: inherit !important;
    cursor: default !important;
    resize: none !important;
  }

  #s_m_Content_Content_tocAndToolbar_ActNoteTB_tb:hover,
  #s_m_Content_Content_tocAndToolbar_ActNoteTB_tb:focus {
    background-color: transparent !important;
    border: none !important;
    color: inherit !important;
    outline: none !important;
  }

  /* Remove native title tooltip by hiding the title attribute effect */
  #s_m_Content_Content_tocAndToolbar_ActNoteTB_tb[title] {
    pointer-events: none !important;
  }

  /* ========================================
     Forside Page (forside.aspx) Styles
     ======================================== */

  /* Hide island headers on forside - they're redundant with our clean design */
  body.il-forside #il-original-content .islandHeaderContainer {
    display: none !important;
  }

  /* Hide mobile app promotion link */
  body.il-forside
    #il-original-content
    #s_m_Content_Content_LectioPaaMobilenBtn {
    display: none !important;
  }

  /* Also hide the parent container for the mobile app link */
  body.il-forside
    #il-original-content
    .ls-std-rowblock.ls-hidden-smallscreen:has(
      #s_m_Content_Content_LectioPaaMobilenBtn
    ) {
    display: none !important;
  }

  /* Fix height on il-original-content to match content */
  body.il-forside #il-original-content {
    height: auto !important;
    min-height: auto !important;
  }

  /* Remove all width constraints on forside */
  body.il-forside #il-original-content,
  body.il-forside #il-original-content #masterContent,
  body.il-forside #il-original-content #aspnetForm,
  body.il-forside #il-original-content .ls-master-container1,
  body.il-forside #il-original-content .ls-master-container2,
  body.il-forside #il-original-content #s_m_outerContentFrameDiv,
  body.il-forside #il-original-content .outerContentFrame,
  body.il-forside #il-original-content .ls-content-container,
  body.il-forside #il-original-content #contenttable,
  body.il-forside #il-original-content .ls-content,
  body.il-forside #il-original-content .ls-fitcontent,
  body.il-forside #il-original-content .ls-dashboard {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Add horizontal padding to content table on forside */
  body.il-forside #il-original-content #contenttable {
    padding: 0 1.5rem !important;
  }

  /* Dashboard layout - container for JS masonry */
  body.il-forside #il-original-content .ls-std-island-layout-ltr {
    display: block !important;
    padding: 0 !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Remove the column wrappers */
  body.il-forside #il-original-content .ls-std-island-layout-col {
    display: contents !important;
  }

  /* Island cards - JS will handle positioning */
  body.il-forside #il-original-content .lf-island {
    margin: 0 !important;
    box-sizing: border-box !important;
    overflow: hidden !important;
    min-width: 0 !important;
  }

  /* Prevent content from forcing card wider */
  body.il-forside #il-original-content .lf-island *,
  body.il-forside #il-original-content .lf-island table {
    max-width: 100% !important;
    overflow-wrap: break-word !important;
    word-break: break-word !important;
    min-width: 0 !important;
  }

  /* Force tables to not overflow */
  body.il-forside #il-original-content .lf-island table {
    table-layout: fixed !important;
    width: 100% !important;
  }

  /* Dashboard link headers (like "Beskeder") */
  body.il-forside #il-original-content .dashboardLinkHeader {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 1rem 1.25rem 1.25rem 1.25rem !important;
    border-bottom: 1px solid var(--border) !important;
    background: transparent !important;
  }

  body.il-forside #il-original-content .dashboardLinkHeader a {
    display: flex !important;
    align-items: center !important;
    gap: 0.75rem !important;
    text-decoration: none !important;
  }

  body.il-forside #il-original-content .dashboardLinkHeaderText {
    font-size: 1.125rem !important;
    font-weight: 600 !important;
    color: var(--foreground) !important;
    letter-spacing: -0.01em !important;
  }

  body.il-forside #il-original-content .dashboardLinkHeaderInfoText {
    font-size: 0.8125rem !important;
    font-weight: 500 !important;
    color: var(--primary-foreground) !important;
    background: var(--primary) !important;
    padding: 0.25rem 0.625rem !important;
    border-radius: 9999px !important;
  }

  /* Hide empty info text */
  body.il-forside #il-original-content .dashboardLinkHeaderInfoText:empty {
    display: none !important;
  }

  /* Dashboard tables */
  body.il-forside #il-original-content table.dashboard {
    width: 100% !important;
  }

  body.il-forside #il-original-content table.dashboard td {
    padding: 0.5rem 1rem !important;
    border-bottom: 1px solid var(--border) !important;
  }

  body.il-forside #il-original-content table.dashboard tr:last-child td {
    border-bottom: none !important;
  }

  /* Hide time column from messages section on forside */
  body.il-forside
    #il-original-content
    #s_m_Content_Content_BeskederInfo
    .timeCol {
    display: none !important;
  }

  /* Hide empty th elements in Hold og grupper section */
  body.il-forside
    #il-original-content
    #s_m_Content_Content_HoldAndGroupList
    table
    th:empty {
    display: none !important;
  }

  /* ========================================
     Schedule Page (SkemaNy.aspx) Styles
     ======================================== */

  /* Make the schedule grid container full width but contained */
  #il-original-content .display-grid-skemany {
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: auto !important;
  }

  /* Schedule print area - full width but contained */
  #il-original-content [id$="skemaprintarea"] {
    width: 100% !important;
    max-width: 100% !important;
    overflow: hidden !important;
  }

  /* Make the schedule table fill available space */
  #il-original-content .s2skema {
    width: 100% !important;
    table-layout: fixed !important;
  }

  /* Constrain the inner container in the first column to match colgroup */
  #il-original-content .s2skema td:first-child > .s2skemabrikcontainer {
    width: 100% !important;
  }

  /* Make the schedule brick containers fill available space */
  #il-original-content .s2skema td[data-date] > .s2skemabrikcontainer {
    width: 100% !important;
  }

  /* Adjust schedule bricks to fill their container */
  #il-original-content .s2skema .s2skemabrik {
    width: calc(100% - 1.1em) !important;
    max-width: calc(100% - 1.1em) !important;
    cursor: pointer !important;
  }

  /* Handle overlapping bricks - detect by left position indicating right-side placement */
  /* Right-side brick (positioned after ~5em means it's sharing space) */
  #il-original-content .s2skema .s2skemabrik[style*="left:5."] {
    width: calc(50% - 0.8em) !important;
    max-width: calc(50% - 0.8em) !important;
    left: calc(50% + 0.3em) !important;
  }

  /* Left-side brick when there's overlap (narrow width ~4em instead of ~9em) */
  #il-original-content .s2skema .s2skemabrik[style*="width:4."] {
    width: calc(50% - 0.8em) !important;
    max-width: calc(50% - 0.8em) !important;
  }

  /* Also catch the old width pattern for other container sizes */
  #il-original-content .s2skema .s2skemabrik[style*="width:6.73em"] {
    width: calc(50% - 0.8em) !important;
    max-width: calc(50% - 0.8em) !important;
  }

  /* Content table full width on schedule pages */
  #il-original-content #contenttable {
    max-width: 100% !important;
    overflow: hidden !important;
  }

  /* Highlight today's column - solid background (amber-yellow tint) */
  #il-original-content .s2skema td[data-date].is-today {
    background-color: rgba(250, 204, 21, 0.1) !important; /* yellow-400 */
  }

  /* Make all child elements transparent so column background shows through */
  #il-original-content .s2skema td[data-date].is-today > .s2skemabrikcontainer,
  #il-original-content .s2skema td[data-date].is-today .s2module-bg {
    background-color: transparent !important;
  }

  /* Info header row today highlight */
  #il-original-content .s2skema .s2infoHeader.is-today {
    background-color: rgba(250, 204, 21, 0.1) !important; /* yellow-400 */
  }

  /* Today's header styling */
  #il-original-content .s2skema .s2dayHeader td.is-today {
    background-color: rgb(252, 211, 77) !important; /* amber-300 */
    color: black !important;
    font-weight: 600 !important;
    border-radius: 0.375rem 0.375rem 0 0 !important;
  }

  /* Current time indicator */
  #il-time-indicator {
    position: absolute;
    left: 0;
    right: 0;
    height: 2px;
    background: rgb(239, 68, 68); /* red-500 */
    z-index: 5;
    pointer-events: none;
  }

  #il-time-indicator .il-time-dot {
    position: absolute;
    left: -4px;
    top: -3px;
    width: 8px;
    height: 8px;
    background: rgb(239, 68, 68);
    border-radius: 50%;
  }

  /* Time label - optional */
  #il-time-indicator .il-time-label {
    position: absolute;
    right: calc(100% + 8px);
    top: 50%;
    transform: translateY(-50%);
    font-size: 11px;
    font-weight: 600;
    color: rgb(239, 68, 68);
    white-space: nowrap;
  }

  /* Hide "hold og grupper" section at bottom of schedule page */
  #il-original-content #s_m_Content_Content_holdElementLinkList,
  #il-original-content
    label.ls-label-block:has(+ #s_m_Content_Content_holdElementLinkList),
  #il-original-content #contenttable > label.ls-label-block {
    display: none !important;
  }

  /* ========================================
     Lektieoversigt Page (material_lektieoversigt.aspx) Styles
     ======================================== */

  /* Remove padding from main island section */
  /* #il-original-content section.lf-island.largeBlock.defaultBlockHeight.ls-island-elevated {
    padding: 0 !important;
  } */

  /* Remove padding from island elevated section */
  #il-original-content .ls-island-elevated {
    padding: 0 !important;
  }

  /* ========================================
     FindSkema Page (FindSkema.aspx) Styles
     ======================================== */

  /* Hide original FindSkema content when our UI is active */
  body.il-findskema #il-original-content {
    display: none !important;
  }

  /* FindSkema page container */
  .findskema-page {
    min-height: 100% !important;
    background: var(--background) !important;
  }

  /* Search container - prominent at top */
  .findskema-search-container {
    padding: 2rem 1.5rem !important;
    background: linear-gradient(
      to bottom,
      var(--muted),
      transparent
    ) !important;
  }

  .findskema-search-wrapper {
    position: relative !important;
    max-width: 800px !important;
    margin: 0 auto !important;
  }

  .findskema-search-icon {
    position: absolute !important;
    left: 1.25rem !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    width: 1.5rem !important;
    height: 1.5rem !important;
    color: var(--muted-foreground) !important;
    pointer-events: none !important;
  }

  .findskema-search-input {
    width: 100% !important;
    height: 4rem !important;
    padding-left: 3.5rem !important;
    padding-right: 5rem !important;
    font-size: 1.25rem !important;
    border-radius: 1rem !important;
    border: 2px solid var(--border) !important;
    background: var(--background) !important;
    color: var(--foreground) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05) !important;
    transition: all 0.2s ease !important;
  }

  .findskema-search-input::placeholder {
    color: var(--muted-foreground) !important;
  }

  .findskema-search-input:focus {
    outline: none !important;
    border-color: var(--ring) !important;
    box-shadow:
      0 4px 12px rgba(0, 0, 0, 0.1),
      0 0 0 3px color-mix(in oklch, var(--ring) 20%, transparent) !important;
  }

  .findskema-search-input:disabled {
    opacity: 0.5 !important;
    cursor: not-allowed !important;
  }

  .findskema-search-actions {
    position: absolute !important;
    right: 1rem !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
  }

  .findskema-clear-btn {
    padding: 0.5rem !important;
    color: var(--muted-foreground) !important;
    border-radius: 0.5rem !important;
    transition: all 0.15s ease !important;
    cursor: pointer !important;
    background: transparent !important;
    border: none !important;
  }

  .findskema-clear-btn:hover {
    color: var(--foreground) !important;
    background: var(--accent) !important;
  }

  .findskema-shortcut-hint {
    display: none !important;
    align-items: center !important;
    gap: 0.25rem !important;
    padding: 0.25rem 0.5rem !important;
    font-family: ui-monospace, monospace !important;
    font-size: 0.75rem !important;
    color: var(--muted-foreground) !important;
    background: var(--muted) !important;
    border: 1px solid var(--border) !important;
    border-radius: 0.375rem !important;
  }

  @media (min-width: 640px) {
    .findskema-shortcut-hint {
      display: inline-flex !important;
    }
  }

  .findskema-error {
    margin-top: 0.75rem !important;
    text-align: center !important;
    color: var(--destructive) !important;
    font-size: 0.875rem !important;
  }

  /* Filter pills */
  .findskema-filters {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 0.5rem !important;
    padding: 0 1.5rem 1rem !important;
    max-width: 800px !important;
    margin: 0 auto !important;
    justify-content: center !important;
  }

  .findskema-filter-pill {
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.375rem !important;
    padding: 0.5rem 0.875rem !important;
    font-size: 0.875rem !important;
    font-weight: 500 !important;
    border-radius: 9999px !important;
    border: 1px solid var(--border) !important;
    background: var(--background) !important;
    color: var(--muted-foreground) !important;
    cursor: pointer !important;
    transition: all 0.15s ease !important;
    user-select: none !important;
  }

  .findskema-filter-pill:hover {
    background: var(--muted) !important;
    color: var(--foreground) !important;
  }

  .findskema-filter-pill.is-active {
    background: var(--primary) !important;
    color: var(--primary-foreground) !important;
    border-color: var(--primary) !important;
  }

  .findskema-filter-pill.is-active:hover {
    background: color-mix(in oklch, var(--primary) 90%, black) !important;
  }

  /* Section styling */
  .findskema-section {
    margin-bottom: 1.5rem !important;
  }

  .findskema-section-header {
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    padding: 0.75rem 1.5rem !important;
    font-size: 0.875rem !important;
    font-weight: 600 !important;
    color: var(--muted-foreground) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
  }

  /* Card grid - responsive */
  .findskema-card-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)) !important;
    gap: 1rem !important;
    padding: 0 1.5rem !important;
  }

  @media (max-width: 640px) {
    .findskema-card-grid {
      grid-template-columns: repeat(2, 1fr) !important;
      gap: 0.75rem !important;
      padding: 0 1rem !important;
    }

    .findskema-search-container {
      padding: 1rem !important;
    }

    .findskema-search-input {
      height: 3.5rem !important;
      font-size: 1rem !important;
      padding-left: 3rem !important;
    }

    .findskema-search-icon {
      left: 1rem !important;
      width: 1.25rem !important;
      height: 1.25rem !important;
    }

    .findskema-section-header {
      padding: 0.75rem 1rem !important;
    }
  }

  /* Person card styling - vertical layout */
  .findskema-person-card {
    display: flex !important;
    flex-direction: column !important;
    border-radius: 1rem !important;
    border: 1px solid var(--border) !important;
    background: var(--card) !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    text-decoration: none !important;
    color: inherit !important;
    overflow: hidden !important;
  }

  .findskema-person-card:hover {
    border-color: var(--ring) !important;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1) !important;
    transform: translateY(-2px) !important;
  }

  /* Image container at top */
  .findskema-card-image-container {
    position: relative !important;
    width: 100% !important;
    aspect-ratio: 3 / 4 !important;
    background: var(--muted) !important;
    overflow: hidden !important;
  }

  .findskema-card-image {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    object-position: top !important;
    transition:
      transform 0.3s ease,
      opacity 0.3s ease !important;
    opacity: 0 !important;
  }

  .findskema-card-image.is-loaded {
    opacity: 1 !important;
  }

  .findskema-person-card:hover .findskema-card-image.is-loaded {
    transform: scale(1.05) !important;
  }

  .findskema-card-fallback {
    position: absolute !important;
    inset: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    font-size: 2.5rem !important;
    font-weight: 600 !important;
    color: var(--muted-foreground) !important;
    background: var(--muted) !important;
  }

  .findskema-card-fallback.hidden {
    display: none !important;
  }

  /* Content below image */
  .findskema-card-content {
    padding: 0.875rem !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 0.375rem !important;
  }

  .findskema-card-name {
    font-size: 0.9375rem !important;
    font-weight: 600 !important;
    color: var(--foreground) !important;
    line-height: 1.3 !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    -webkit-box-orient: vertical !important;
    overflow: hidden !important;
  }

  .findskema-card-meta {
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    flex-wrap: wrap !important;
  }

  .findskema-card-class {
    font-size: 0.8125rem !important;
    color: var(--muted-foreground) !important;
  }

  .findskema-card-badge {
    font-size: 0.6875rem !important;
    font-weight: 500 !important;
    padding: 0.125rem 0.5rem !important;
    border-radius: 9999px !important;
  }

  /* Action buttons - overlay on image */
  .findskema-card-actions {
    position: absolute !important;
    top: 0.5rem !important;
    right: 0.5rem !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 0.25rem !important;
    opacity: 0 !important;
    transition: opacity 0.2s ease !important;
  }

  .findskema-person-card:hover .findskema-card-actions,
  .findskema-card-actions:has(.is-starred) {
    opacity: 1 !important;
  }

  .findskema-star-btn,
  .findskema-remove-btn {
    padding: 0.5rem !important;
    border-radius: 50% !important;
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(4px) !important;
    border: none !important;
    cursor: pointer !important;
    transition: all 0.15s ease !important;
    color: var(--muted-foreground) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
  }

  .findskema-star-btn:hover {
    background: white !important;
    color: rgb(245, 158, 11) !important; /* amber-500 */
    transform: scale(1.1) !important;
  }

  .findskema-star-btn.is-starred {
    color: rgb(245, 158, 11) !important; /* amber-500 */
    background: white !important;
  }

  .findskema-remove-btn:hover {
    background: white !important;
    color: var(--destructive) !important;
    transform: scale(1.1) !important;
  }

  /* Empty state */
  .findskema-empty {
    padding: 2rem 1.5rem !important;
    text-align: center !important;
    color: var(--muted-foreground) !important;
  }

  /* Loading state */
  .findskema-loading {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 1rem !important;
    padding: 3rem 1.5rem !important;
    color: var(--muted-foreground) !important;
  }

  .findskema-spinner {
    width: 2rem !important;
    height: 2rem !important;
    border: 2px solid var(--border) !important;
    border-top-color: var(--primary) !important;
    border-radius: 50% !important;
    animation: findskema-spin 0.8s linear infinite !important;
  }

  @keyframes findskema-spin {
    to {
      transform: rotate(360deg);
    }
  }

  /* ========================================
     Members Page (members.aspx) Styles
     ======================================== */

  /* Hide the original Lectio content area when our members page is active (keep subnav) */
  body.il-members-page-active #il-original-content #contenttable {
    display: none !important;
  }

  /* Collapse all parent containers so they don't take up space */
  body.il-members-page-active #il-original-content,
  body.il-members-page-active #il-original-content #masterContent,
  body.il-members-page-active #il-original-content #aspnetForm,
  body.il-members-page-active #il-original-content .ls-master-container1,
  body.il-members-page-active #il-original-content .ls-master-container2,
  body.il-members-page-active #il-original-content #s_m_outerContentFrameDiv,
  body.il-members-page-active #il-original-content .outerContentFrame,
  body.il-members-page-active #il-original-content .ls-content-container,
  body.il-members-page-active #il-original-content .ls-content {
    height: fit-content !important;
    min-height: 0 !important;
  }

  /* Members page grid container */
  #il-members-page {
    padding: 1rem 1.5rem 1.5rem 1.5rem !important;
  }

  /* ========================================
     Experimental dark mode for native Lectio UI
     ======================================== */
  .dark body,
  .dark #masterContent,
  .dark .island,
  .dark .ls-container,
  .dark .islandContent {
    background-color: var(--lectio-dark-bg) !important;
    color: var(--lectio-dark-text) !important;
  }

  .dark SECTION.island .islandHeaderContainer {
    background-image: url("") !important;
    background-color: var(--lectio-dark-element) !important;
  }

  .dark .ls-island-elevated div[role="heading"] > span:first-of-type {
    color: var(--lectio-dark-link) !important;
  }

  .dark SECTION.island .islandHeader {
    color: var(--lectio-dark-header) !important;
  }

  .dark .message-thread-message,
  .dark .ls-paper,
  .dark .ls-texteditor-container,
  .dark .ls-tocContainer-outer,
  .dark .lc-display-fragment,
  .dark .ls-phase-activity,
  .dark #s_m_Content_Content_SkemaMedNavigation_skemaprintare {
    background-color: var(--lectio-dark-surface) !important;
    border-color: var(--lectio-dark-element) !important;
  }

  .dark .lectioTabContent {
    background-color: var(--lectio-dark-border) !important;
  }

  .dark .ls-island-elevated,
  .dark .lec-context-menu,
  .dark .ls-questionnaire-question,
  .dark .ls-island-outlined {
    background-color: var(--lectio-dark-element) !important;
    border-color: var(--lectio-dark-border) !important;
    outline: var(--lectio-dark-border) !important;
  }

  .dark .s2module-bg,
  .dark .message-thread-container,
  .dark .s2skemabrikcontainer,
  .dark .s2infoHeader {
    background-color: var(--lectio-dark-element) !important;
    color: var(--lectio-dark-text) !important;
    border: 1px solid var(--lectio-dark-border) !important;
  }

  .dark .s2skemabrik {
    background-color: var(--lectio-dark-calendar) !important;
    color: var(--lectio-dark-text) !important;
  }

  .dark .s2module-info {
    color: var(--lectio-dark-info) !important;
  }

  .dark .s2skemabrik * {
    color: var(--lectio-dark-text) !important;
  }

  .dark .ls-island-outlined div.islandHeaderContainer[role="heading"] span.islandHeader,
  .dark .ls-island-filled div.islandHeaderContainer[role="heading"] span.islandHeader,
  .dark .ls-island-elevated div.islandHeaderContainer[role="heading"] span.islandHeader,
  .dark .ls-island-nostyle div.islandHeaderContainer[role="heading"] span.islandHeader {
    color: var(--lectio-dark-text) !important;
  }

  .dark .month,
  .dark .week {
    color: var(--lectio-dark-text) !important;
  }

  .dark .ls-island-filled,
  .dark .ls-island-filled div.islandHeaderContainer[role="heading"] span.islandHeader {
    background-color: var(--lectio-dark-element) !important;
    color: var(--lectio-dark-header) !important;
  }

  .dark .fixedTableHeaderRow > TD,
  .dark .fixedTableHeaderRow > TH,
  .dark .fixedTableHeaderRow > GD {
    background-image: url("") !important;
  }

  .dark .phase {
    background-color: var(--lectio-dark-element) !important;
  }

  .dark option {
    background-color: var(--lectio-dark-element) !important;
  }

  .dark table,
  .dark tr,
  .dark td,
  .dark th {
    background-color: var(--lectio-dark-surface) !important;
    color: var(--lectio-dark-text) !important;
    border-color: var(--lectio-dark-element) !important;
  }

  .dark a {
    color: var(--lectio-dark-link) !important;
  }

  .dark a:hover {
    color: var(--lectio-dark-link-hover) !important;
  }

  .dark input,
  .dark select,
  .dark textarea,
  .dark button {
    background-color: var(--lectio-dark-element) !important;
    color: var(--lectio-dark-text) !important;
  }

  .dark .ls-menu-item,
  .dark .ls-menu-item:hover {
    background-color: var(--lectio-dark-surface) !important;
    color: var(--lectio-dark-text) !important;
  }

  .dark .ls-card-filled {
    background-color: var(--lectio-dark-surface) !important;
  }

  .dark h1,
  .dark h2,
  .dark h3,
  .dark h4,
  .dark h5,
  .dark h6,
  .dark .s2skemabrikcontent {
    color: var(--lectio-dark-text) !important;
  }

  .dark .ls-info-message,
  .dark .ls-warning-message,
  .dark .ls-error-message {
    background-color: var(--lectio-dark-element) !important;
    color: var(--lectio-dark-text) !important;
    border: 1px solid var(--lectio-dark-border) !important;
  }

  .dark DIV.button A,
  .dark DIV.button,
  .dark A.button,
  .dark a,
  .dark a:hover,
  .dark .lectioToolbar,
  .dark .ls-master-header {
    background-image: url("") !important;
    background-color: transparent !important;
  }

  .dark .lectioToolbar,
  .dark .ls-master-header {
    justify-content: center !important;
  }

  .dark .lectioBorderRight,
  .dark .lectioBorderLeft {
    border-left: 0 !important;
    border-right: 0 !important;
  }

  .dark .ls-master-container2 .ls-master-header-institution {
    color: #0ca59f !important;
  }

  .dark .maintitle {
    color: #ffffff !important;
  }
}
